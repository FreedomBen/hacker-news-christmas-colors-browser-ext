/* Apply Christmas colors to story rankings when active */
.hn-christmas-colors .rank {
  font-weight: bold !important;
}

/* Change the top banner to Christmas red */
.hn-christmas-colors #hnmain > tbody > tr:first-child > td {
  background-color: #cc1010 !important;
}

/* Primary selector - alternate red and green for each story */
/* Using Hacker News Christmas colors */
.hn-christmas-colors:not(.hn-extra-festive) .athing:nth-of-type(odd) .rank {
  color: #be2828 !important;  /* HN Christmas red */
}

.hn-christmas-colors:not(.hn-extra-festive) .athing:nth-of-type(even) .rank {
  color: #005a00 !important;  /* HN Christmas green */
}

/* Extra Festive mode uses shared CSS variables so only a few animations run */
.hn-extra-festive {
  --hn-rank-primary: #be2828;
  --hn-rank-secondary: #005a00;
  --hn-header-color: #cc1010;
  -webkit-animation:
    hnRankPrimary 2s steps(1, end) infinite,
    hnRankSecondary 2s steps(1, end) infinite;
    /* hnHeaderTint 2s steps(1, end) infinite;  // paused to keep header static; re-enable by uncommenting this line and the background-color var below */
  animation:
    hnRankPrimary 2s steps(1, end) infinite,
    hnRankSecondary 2s steps(1, end) infinite;
    /* hnHeaderTint 2s steps(1, end) infinite;  // paused to keep header static; re-enable by uncommenting this line and the background-color var below */
}

@-webkit-keyframes hnRankPrimary {
  0%, 49.999% { --hn-rank-primary: #be2828; }
  50%, 100% { --hn-rank-primary: #005a00; }
}

@keyframes hnRankPrimary {
  0%, 49.999% { --hn-rank-primary: #be2828; }
  50%, 100% { --hn-rank-primary: #005a00; }
}

@-webkit-keyframes hnRankSecondary {
  0%, 49.999% { --hn-rank-secondary: #005a00; }
  50%, 100% { --hn-rank-secondary: #be2828; }
}

@keyframes hnRankSecondary {
  0%, 49.999% { --hn-rank-secondary: #005a00; }
  50%, 100% { --hn-rank-secondary: #be2828; }
}

@-webkit-keyframes hnHeaderTint {
  0% { --hn-header-color: #cc1010; }
  50% { --hn-header-color: #005a00; }
  100% { --hn-header-color: #cc1010; }
}

@keyframes hnHeaderTint {
  0% { --hn-header-color: #cc1010; }
  50% { --hn-header-color: #005a00; }
  100% { --hn-header-color: #cc1010; }
}

/* Extra Festive mode - hold for 1s, then flip color without per-element animations */
.hn-extra-festive .rank {
  color: var(--hn-rank-primary, #be2828) !important;
}

/* Even rows start on green to keep the checkerboard effect */
.hn-extra-festive .athing:nth-of-type(even) .rank {
  color: var(--hn-rank-secondary, #005a00) !important;
}

/* Animate the header bar in extra festive mode via shared variable */
body.hn-extra-festive #hnmain > tbody > tr:first-child > td,
.hn-christmas-colors.hn-extra-festive #hnmain > tbody > tr:first-child > td {
  /* background-color: var(--hn-header-color, #cc1010) !important; // keep for easy restore: uncomment this line and hnHeaderTint above */
  background-color: #d8d8d8 !important; /* classy silver for Extra Festive header */
  color: #202020;
}

/* Checkerboard the header links in Extra Festive mode */
.hn-extra-festive .pagetop a,
.hn-extra-festive .pagetop a:visited {
  color: #be2828 !important;
}

.hn-extra-festive .pagetop a:nth-of-type(even),
.hn-extra-festive .pagetop a:nth-of-type(even):visited {
  color: #005a00 !important;
}

.hn-extra-festive .pagetop a:hover,
.hn-extra-festive .pagetop a:focus-visible {
  text-decoration: underline;
}

/* Add tree emoji before and after each story title in extra festive mode
.hn-extra-festive .titleline > a::before {
  content: "ğŸ ";
}
*/

/* Disable for now */
.hn-extra-festive .titleline > a::after {
  content: " ğŸ„";
}

/* Extra Festive comment usernames (checkerboard animation) */
.hn-extra-festive .comment-tree .hnuser {
  color: var(--hn-rank-primary, #be2828) !important;
}

/* Even comment rows start on green to preserve the alternating pattern */
.hn-extra-festive .comment-tree tr.comtr:nth-of-type(even) .hnuser {
  color: var(--hn-rank-secondary, #005a00) !important;
}

/* Add a tree emoji to the username/timestamp line on comments */
.hn-extra-festive .comment-tree .comhead::after {
  content: " ğŸ„";
  margin-left: 4px;
}
